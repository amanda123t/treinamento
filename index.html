<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jornada Comercial de GMO na TransformaÃ§Ã£o do Cliente</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,500;0,9..40,700;0,9..40,800;1,9..40,400&family=Fraunces:opsz,wght@9..144,400;9..144,700;9..144,800&display=swap');

*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#f6f5f1;
  --bg2:#edece7;
  --surface:#fff;
  --surface-hover:#fafaf8;
  --border:#ddd8cf;
  --border-light:#eae6de;
  --text:#1a1916;
  --text-secondary:#5a574e;
  --text-muted:#8a867c;

  --phase1:#2563eb;--phase1-bg:#eff5ff;--phase1-border:#bdd4fe;
  --phase2:#7c3aed;--phase2-bg:#f3f0ff;--phase2-border:#c4b5fd;
  --phase3:#0891b2;--phase3-bg:#ecfeff;--phase3-border:#a5f3fc;
  --phase4:#dc2626;--phase4-bg:#fef2f2;--phase4-border:#fca5a5;
  --phase5:#059669;--phase5-bg:#ecfdf5;--phase5-border:#6ee7b7;
  --phase6:#d97706;--phase6-bg:#fffbeb;--phase6-border:#fcd34d;

  --radius:14px;
  --radius-sm:8px;
  --shadow:0 1px 3px rgba(0,0,0,.06), 0 4px 16px rgba(0,0,0,.04);
  --shadow-lg:0 4px 24px rgba(0,0,0,.08), 0 1px 4px rgba(0,0,0,.04);

  --font-display:'Fraunces', Georgia, serif;
  --font-body:'DM Sans', system-ui, sans-serif;
}

html{scroll-behavior:smooth}
body{
  font-family:var(--font-body);
  background:var(--bg);
  color:var(--text);
  line-height:1.6;
  min-height:100vh;
  -webkit-font-smoothing:antialiased;
}

/* â”€â”€ HEADER â”€â”€ */
.header{
  text-align:center;
  padding:3.5rem 1.5rem 2.5rem;
  background:var(--surface);
  border-bottom:1px solid var(--border-light);
  position:relative;
  overflow:hidden;
}
.header::before{
  content:'';position:absolute;top:-60%;left:-10%;width:120%;height:120%;
  background:radial-gradient(ellipse at 30% 0%,rgba(37,99,235,.04) 0%,transparent 60%),
             radial-gradient(ellipse at 70% 0%,rgba(124,58,237,.04) 0%,transparent 60%);
  pointer-events:none;
}
.header h1{
  font-family:var(--font-display);
  font-size:clamp(1.6rem,4vw,2.6rem);
  font-weight:800;
  color:var(--text);
  letter-spacing:-.02em;
  line-height:1.2;
  margin-bottom:.6rem;
  position:relative;
}
.header p{
  color:var(--text-secondary);
  font-size:clamp(.88rem,2vw,1.05rem);
  max-width:680px;margin:0 auto;
  position:relative;
}

/* â”€â”€ MAIN â”€â”€ */
.main{max-width:1180px;margin:0 auto;padding:2rem 1.25rem 1rem}

/* â”€â”€ TIMELINE â”€â”€ */
.timeline-wrap{
  margin-bottom:2rem;
  overflow-x:auto;
  -webkit-overflow-scrolling:touch;
  scrollbar-width:thin;
  scrollbar-color:var(--border) transparent;
  padding-bottom:4px;
}
.timeline-track{
  display:flex;align-items:flex-start;justify-content:space-between;
  position:relative;
  min-width:820px;
  padding:0 12px;
}
.timeline-track::before{
  content:'';position:absolute;top:24px;left:50px;right:50px;
  height:2px;background:var(--border);z-index:0;
}
.timeline-progress-bar{
  position:absolute;top:24px;left:50px;
  height:2px;z-index:1;
  transition:width .5s cubic-bezier(.4,0,.2,1), background .4s;
  width:0;border-radius:1px;
}

/* STEP BTN */
.step-btn{
  position:relative;z-index:2;
  display:flex;flex-direction:column;align-items:center;gap:.55rem;
  background:none;border:none;cursor:pointer;
  padding:.25rem .3rem;
  outline:none;
  -webkit-tap-highlight-color:transparent;
  max-width:130px;
  flex:1;
}
.step-num{
  width:48px;height:48px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-weight:700;font-size:.95rem;
  background:var(--surface);
  border:2.5px solid var(--border);
  color:var(--text-muted);
  transition:all .35s cubic-bezier(.4,0,.2,1);
  box-shadow:0 1px 4px rgba(0,0,0,.06);
  position:relative;
}
.step-num .emoji{font-size:1.2rem;line-height:1}
.step-label{
  font-size:.72rem;font-weight:600;
  color:var(--text-muted);
  transition:color .3s;
  text-align:center;
  line-height:1.3;
  letter-spacing:.01em;
}

.step-btn:hover .step-num{
  transform:translateY(-2px) scale(1.08);
  box-shadow:0 4px 16px rgba(0,0,0,.1);
}
.step-btn:hover .step-label{color:var(--text-secondary)}
.step-btn:focus-visible{outline:2px solid var(--phase1);outline-offset:4px;border-radius:6px}

/* Active colors per phase */
.step-btn.active .step-num{color:#fff;transform:translateY(-3px) scale(1.12);border-width:0;}
.step-btn.active .step-label{font-weight:700}
.step-btn[data-i="0"].active .step-num{background:var(--phase1);box-shadow:0 4px 20px rgba(37,99,235,.35)}
.step-btn[data-i="0"].active .step-label{color:var(--phase1)}
.step-btn[data-i="1"].active .step-num{background:var(--phase2);box-shadow:0 4px 20px rgba(124,58,237,.35)}
.step-btn[data-i="1"].active .step-label{color:var(--phase2)}
.step-btn[data-i="2"].active .step-num{background:var(--phase3);box-shadow:0 4px 20px rgba(8,145,178,.35)}
.step-btn[data-i="2"].active .step-label{color:var(--phase3)}
.step-btn[data-i="3"].active .step-num{background:var(--phase4);box-shadow:0 4px 20px rgba(220,38,38,.35)}
.step-btn[data-i="3"].active .step-label{color:var(--phase4)}
.step-btn[data-i="4"].active .step-num{background:var(--phase5);box-shadow:0 4px 20px rgba(5,150,105,.35)}
.step-btn[data-i="4"].active .step-label{color:var(--phase5)}
.step-btn[data-i="5"].active .step-num{background:var(--phase6);box-shadow:0 4px 20px rgba(217,119,6,.35)}
.step-btn[data-i="5"].active .step-label{color:var(--phase6)}

.step-btn.visited .step-num{
  border-color:var(--text-muted);
  background:var(--bg2);
  color:var(--text-secondary);
}

/* â”€â”€ CONTENT CARD â”€â”€ */
.card-outer{min-height:520px}
.card{
  background:var(--surface);
  border:1px solid var(--border-light);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:0;
  opacity:0;
  transform:translateY(12px);
  transition:opacity .35s ease, transform .35s ease;
  overflow:hidden;
}
.card.visible{opacity:1;transform:translateY(0)}

.card-header{
  padding:1.6rem 2rem 1.2rem;
  border-bottom:1px solid var(--border-light);
  display:flex;align-items:center;gap:1rem;flex-wrap:wrap;
}
.card-phase-tag{
  font-size:.65rem;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;
  padding:.3rem .9rem;border-radius:20px;
}
.card[data-c="0"] .card-phase-tag{background:var(--phase1-bg);color:var(--phase1);border:1px solid var(--phase1-border)}
.card[data-c="1"] .card-phase-tag{background:var(--phase2-bg);color:var(--phase2);border:1px solid var(--phase2-border)}
.card[data-c="2"] .card-phase-tag{background:var(--phase3-bg);color:var(--phase3);border:1px solid var(--phase3-border)}
.card[data-c="3"] .card-phase-tag{background:var(--phase4-bg);color:var(--phase4);border:1px solid var(--phase4-border)}
.card[data-c="4"] .card-phase-tag{background:var(--phase5-bg);color:var(--phase5);border:1px solid var(--phase5-border)}
.card[data-c="5"] .card-phase-tag{background:var(--phase6-bg);color:var(--phase6);border:1px solid var(--phase6-border)}

.card-title{
  font-family:var(--font-display);
  font-size:clamp(1.2rem,3vw,1.65rem);
  font-weight:800;letter-spacing:-.01em;
  color:var(--text);
}
.card-body{padding:1.6rem 2rem 2rem}

/* SECTION CARDS */
.section-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:1rem;
}
.sec{
  background:var(--bg);
  border:1px solid var(--border-light);
  border-radius:var(--radius-sm);
  padding:1.1rem 1.2rem;
  transition:border-color .2s, box-shadow .2s;
}
.sec:hover{border-color:var(--border);box-shadow:0 2px 8px rgba(0,0,0,.04)}
.sec.full-width{grid-column:1/-1}

.sec-header{
  display:flex;align-items:center;gap:.5rem;
  margin-bottom:.55rem;
}
.sec-icon{font-size:1rem;line-height:1}
.sec-title{
  font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;
}
.card[data-c="0"] .sec-title{color:var(--phase1)}
.card[data-c="1"] .sec-title{color:var(--phase2)}
.card[data-c="2"] .sec-title{color:var(--phase3)}
.card[data-c="3"] .sec-title{color:var(--phase4)}
.card[data-c="4"] .sec-title{color:var(--phase5)}
.card[data-c="5"] .sec-title{color:var(--phase6)}

.sec p,.sec li{
  font-size:.88rem;color:var(--text-secondary);line-height:1.6;
}
.sec ul{list-style:none;padding:0;display:flex;flex-direction:column;gap:.35rem}
.sec li{position:relative;padding-left:1.1rem}
.sec li::before{
  content:'';position:absolute;left:0;top:.55rem;
  width:5px;height:5px;border-radius:50%;
}
.card[data-c="0"] .sec li::before{background:var(--phase1)}
.card[data-c="1"] .sec li::before{background:var(--phase2)}
.card[data-c="2"] .sec li::before{background:var(--phase3)}
.card[data-c="3"] .sec li::before{background:var(--phase4)}
.card[data-c="4"] .sec li::before{background:var(--phase5)}
.card[data-c="5"] .sec li::before{background:var(--phase6)}

.sec li em{font-style:italic;color:var(--text)}
.sec-quote{
  font-style:italic;
  border-left:3px solid var(--border);
  padding-left:.8rem;
  color:var(--text);
}

/* COPY BTN */
.copy-btn{
  display:inline-flex;align-items:center;gap:.35rem;
  background:var(--surface);border:1px solid var(--border);
  border-radius:6px;padding:.35rem .7rem;
  font-size:.72rem;font-weight:600;color:var(--text-secondary);
  cursor:pointer;transition:all .2s;margin-top:.5rem;
  font-family:var(--font-body);
}
.copy-btn:hover{background:var(--bg2);border-color:var(--text-muted);color:var(--text)}
.copy-btn.copied{background:#ecfdf5;border-color:#6ee7b7;color:#059669}

/* â”€â”€ NAV BAR â”€â”€ */
.card-nav{
  display:flex;justify-content:space-between;align-items:center;
  margin-top:1.2rem;padding:0 .25rem;
}
.nav-btn{
  background:var(--surface);border:1px solid var(--border);
  color:var(--text);border-radius:var(--radius-sm);
  padding:.6rem 1.2rem;font-size:.85rem;font-weight:600;
  cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:.4rem;
  font-family:var(--font-body);
  box-shadow:0 1px 3px rgba(0,0,0,.04);
}
.nav-btn:hover:not(:disabled){background:var(--text);color:var(--surface);border-color:var(--text)}
.nav-btn:disabled{opacity:.35;cursor:default}
.step-counter{font-size:.85rem;color:var(--text-muted);font-weight:600}

/* â”€â”€ FOOTER â”€â”€ */
.footer{
  text-align:center;
  padding:1.5rem 1.25rem 2.5rem;
  margin-top:.5rem;
}
.footer-tip{
  display:inline-block;
  background:var(--surface);
  border:1px solid var(--border-light);
  border-radius:var(--radius-sm);
  padding:.85rem 1.5rem;
  font-size:.85rem;
  color:var(--text-secondary);
  box-shadow:0 1px 4px rgba(0,0,0,.03);
}
.footer-tip strong{color:var(--text)}

/* â”€â”€ TOAST â”€â”€ */
.toast{
  position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(20px);
  background:var(--text);color:var(--surface);
  padding:.65rem 1.3rem;border-radius:var(--radius-sm);
  font-size:.82rem;font-weight:600;
  opacity:0;transition:all .3s ease;
  pointer-events:none;z-index:999;
  box-shadow:0 8px 30px rgba(0,0,0,.2);
}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}

/* â”€â”€ RESPONSIVE â”€â”€ */
@media(max-width:860px){
  .timeline-wrap{overflow-x:auto}
}
@media(max-width:768px){
  .timeline-wrap{overflow:visible}
  .timeline-track{
    flex-direction:column;align-items:flex-start;
    min-width:0;gap:0;padding:0 0 0 24px;
  }
  .timeline-track::before{
    top:24px;bottom:24px;left:47px;right:auto;
    width:2px;height:auto;
  }
  .timeline-progress-bar{
    top:24px;left:47px;right:auto;
    width:2px!important;
  }
  .step-btn{
    flex-direction:row;gap:.7rem;
    max-width:none;padding:.5rem .3rem;
  }
  .step-num{width:44px;height:44px;font-size:.88rem;flex-shrink:0}
  .step-label{font-size:.82rem;text-align:left}
  .card-header{padding:1.2rem 1.3rem 1rem}
  .card-body{padding:1.2rem 1.3rem 1.5rem}
  .section-grid{grid-template-columns:1fr}
}
@media(max-width:480px){
  .header{padding:2rem 1rem 1.8rem}
  .main{padding:1.25rem .75rem .5rem}
  .card-body{padding:1rem}
  .sec{padding:.9rem 1rem}
}
</style>
</head>
<body>

<header class="header">
  <h1>Jornada Comercial de GMO na TransformaÃ§Ã£o do Cliente</h1>
  <p>Clique nas fases para identificar oportunidades de GMO, frases reais do cliente e como conduzir o discovery.</p>
</header>

<main class="main">
  <div class="timeline-wrap">
    <nav class="timeline-track" id="track" role="tablist" aria-label="Fases da jornada comercial">
      <div class="timeline-progress-bar" id="progressBar"></div>
    </nav>
  </div>

  <div class="card-outer" id="cardOuter" role="tabpanel" aria-live="polite">
    <div class="card" id="card"></div>
  </div>

  <div class="card-nav">
    <button class="nav-btn" id="prevBtn" aria-label="Fase anterior">&#8592; Anterior</button>
    <span class="step-counter" id="stepCounter"></span>
    <button class="nav-btn" id="nextBtn" aria-label="PrÃ³xima fase">PrÃ³xima &#8594;</button>
  </div>
</main>

<footer class="footer">
  <div class="footer-tip"><strong>Dica:</strong> use esta jornada para reconhecer sinais de risco de adoÃ§Ã£o e abrir espaÃ§o para GMO desde o inÃ­cio.</div>
</footer>

<div class="toast" id="toast"></div>

<script>
const phases = [
  {
    title: "Oportunidade de TransformaÃ§Ã£o",
    subtitle: "(antes do projeto existir)",
    icon: "ðŸ”­",
    acontecendo: "Cliente percebe oportunidade (eficiÃªncia, digitalizaÃ§Ã£o, reduÃ§Ã£o de custo, compliance), mas ainda nÃ£o estruturou projeto nem considera impacto humano.",
    sinais: [
      "\"A gente precisa digitalizar isso logo.\"",
      "\"Quero melhorar eficiÃªncia, mas nÃ£o sei por onde comeÃ§ar.\"",
      "\"Se colocarmos SAP/automaÃ§Ã£o resolve, nÃ©?\"",
      "\"O problema Ã© processo ou sistema? NÃ£o sei.\""
    ],
    risco: "Virar projeto 100% tÃ©cnico, escopo mal definido, resistÃªncia futura por falta de diagnÃ³stico e patrocÃ­nio.",
    oportunidade: "DiagnÃ³stico de prontidÃ£o, mapa de stakeholders, avaliaÃ§Ã£o de impactos (rotina, papel, indicadores), definiÃ§Ã£o de patrocÃ­nio.",
    discovery: [
      "Quem serÃ¡ mais impactado na rotina se isso mudar?",
      "Qual mudanÃ§a de comportamento vocÃª espera no time?",
      "O que jÃ¡ deu errado em mudanÃ§as anteriores aqui?",
      "Quem precisa patrocinar isso para ser prioridade real?",
      "Quais Ã¡reas podem resistir e por quÃª?"
    ],
    posicionamento: "Explique que a tecnologia acelera, mas a adoÃ§Ã£o determina resultado. OfereÃ§a GMO como forma de reduzir risco e encurtar tempo atÃ© capturar valor, antes mesmo de escolher ferramenta.\n\nPositione-se como parceiro estratÃ©gico: \"Antes de definir a soluÃ§Ã£o, vamos entender o cenÃ¡rio humano. Isso evita surpresas e protege o investimento.\"",
    proximoPasso: {
      acao: "Workshop de prontidÃ£o e impactos",
      output: "Mapa de impactos e riscos de adoÃ§Ã£o"
    }
  },
  {
    title: "Busca por Tecnologia",
    subtitle: "(cliente procura parceiro / Meta entra)",
    icon: "ðŸ”Ž",
    acontecendo: "Cliente chega com demanda de tecnologia (SAP, automaÃ§Ã£o, plataforma), comparando fornecedores e soluÃ§Ãµes.",
    sinais: [
      "\"Precisamos de uma soluÃ§Ã£o SAP/ERP.\"",
      "\"Quero automatizar e reduzir FTE.\"",
      "\"O time vai ter que se adaptar, mas a gente vÃª isso depois.\"",
      "\"Treinamento a gente resolve no fim.\""
    ],
    risco: "Escolha tÃ©cnica desconectada da operaÃ§Ã£o; baixa adesÃ£o; retrabalho; percepÃ§Ã£o de 'projeto imposto'.",
    oportunidade: "EstratÃ©gia de mudanÃ§a dentro do discovery: narrativa, plano macro de comunicaÃ§Ã£o, entendimento de impactos por Ã¡rea, alinhamento com lideranÃ§a.",
    discovery: [
      "Quais times vÃ£o mudar mais no dia a dia com essa soluÃ§Ã£o?",
      "Como vocÃª vai medir se a mudanÃ§a deu certo (alÃ©m do go-live)?",
      "Quem na lideranÃ§a garante prioridade e adesÃ£o?",
      "Qual Ã© a principal preocupaÃ§Ã£o do time hoje?",
      "Existe medo de perda de funÃ§Ã£o ou de aumento de controle?"
    ],
    posicionamento: "Posicione GMO como parte do desenho da soluÃ§Ã£o: \"a Meta entrega tecnologia com adoÃ§Ã£o\". Mostre que isso evita desperdÃ­cio e acelera ROI.\n\nReforce: \"Quando o time entende o porquÃª e o como, a curva de adoÃ§Ã£o Ã© mais rÃ¡pida e o retorno vem antes.\"",
    proximoPasso: {
      acao: "DiagnÃ³stico rÃ¡pido de adoÃ§Ã£o (30â€“60 min)",
      output: "Plano macro de mudanÃ§a acoplado Ã  proposta tÃ©cnica"
    }
  },
  {
    title: "Desenho da SoluÃ§Ã£o",
    subtitle: "(workshops e definiÃ§Ã£o do projeto)",
    icon: "âœï¸",
    acontecendo: "Workshops, mapeamento de processo, backlog, arquitetura, definiÃ§Ã£o de rollout e times envolvidos.",
    sinais: [
      "\"A operaÃ§Ã£o estÃ¡ com pouco tempo pra participar.\"",
      "\"Cada Ã¡rea quer um jeito diferente.\"",
      "\"Se mudar isso, vai dar confusÃ£o.\"",
      "\"NÃ£o temos dono claro do processo.\""
    ],
    risco: "Desenho desalinhado; decisÃµes sem adesÃ£o; resistÃªncia por falta de participaÃ§Ã£o; exceÃ§Ãµes ignoradas.",
    oportunidade: "Plano de mudanÃ§a detalhado: stakeholder map, plano de comunicaÃ§Ã£o por pÃºblico, plano de capacitaÃ§Ã£o, estratÃ©gia de rede de agentes da mudanÃ§a.",
    discovery: [
      "Quem decide quando existe conflito entre Ã¡reas?",
      "Quais exceÃ§Ãµes operacionais podem travar a adoÃ§Ã£o?",
      "Quais mensagens precisam ser reforÃ§adas pela lideranÃ§a?",
      "Quem pode ser agente da mudanÃ§a na operaÃ§Ã£o?",
      "Que tipo de treinamento Ã© realmente Ãºtil no dia a dia?"
    ],
    posicionamento: "GMO aqui garante alinhamento e reduz retrabalho no desenho. \"Sem adesÃ£o no desenho, vocÃª paga duas vezes na implementaÃ§Ã£o.\"\n\nMostre que envolver as Ã¡reas desde o inÃ­cio reduz exceÃ§Ãµes nÃ£o previstas e acelera a homologaÃ§Ã£o.",
    proximoPasso: {
      acao: "Plano de mudanÃ§a por pÃºblico",
      output: "Mapa de stakeholders + plano de comunicaÃ§Ã£o e capacitaÃ§Ã£o"
    }
  },
  {
    title: "ImplementaÃ§Ã£o / Rollout",
    subtitle: "(execuÃ§Ã£o e preparaÃ§Ã£o)",
    icon: "ðŸš§",
    acontecendo: "ConfiguraÃ§Ã£o/implantaÃ§Ã£o, testes, preparaÃ§Ã£o de usuÃ¡rios, mudanÃ§a de rotina, comunicaÃ§Ã£o do go-live.",
    sinais: [
      "\"NÃ£o dÃ¡ tempo de treinar todo mundo.\"",
      "\"O go-live estÃ¡ em cima e o time tÃ¡ perdido.\"",
      "\"A operaÃ§Ã£o nÃ£o pode parar.\"",
      "\"VÃ£o jogar isso pra gente de um dia pro outro.\""
    ],
    risco: "PÃ¢nico operacional, erros, aumento de chamados, rejeiÃ§Ã£o da ferramenta/processo, queda de produtividade.",
    oportunidade: "Plano de comunicaÃ§Ã£o de cutover, treinamento prÃ¡tico, materiais rÃ¡pidos (job aids), suporte hiper-care, gestÃ£o de resistÃªncia.",
    discovery: [
      "Quais atividades nÃ£o podem falhar no go-live?",
      "Quem precisa de treinamento prÃ¡tico primeiro?",
      "Qual o plano de suporte nas primeiras 2 semanas?",
      "Quais mudanÃ§as de rotina sÃ£o mais sensÃ­veis?",
      "Como vamos lidar com resistÃªncia explÃ­cita?"
    ],
    posicionamento: "GMO reduz risco de queda operacional e protege reputaÃ§Ã£o do projeto. \"A implementaÃ§Ã£o Ã© tÃ©cnica; o rollout Ã© humano.\"\n\nReforce que um rollout bem gerido evita escalaÃ§Ãµes, protege a relaÃ§Ã£o com o sponsor e garante a percepÃ§Ã£o de sucesso.",
    proximoPasso: {
      acao: "Plano de capacitaÃ§Ã£o e hypercare",
      output: "Kit de comunicaÃ§Ã£o + trilhas e job aids"
    }
  },
  {
    title: "AdoÃ§Ã£o Real",
    subtitle: "(pÃ³s go-live e mudanÃ§a no dia a dia)",
    icon: "ðŸŽ¯",
    acontecendo: "Uso real, ajustes, performance, usuÃ¡rios criando atalhos, planilhas paralelas, dÃºvidas recorrentes.",
    sinais: [
      "\"O sistema Ã© bom, mas ninguÃ©m usa direito.\"",
      "\"Voltamos pra planilha porque Ã© mais rÃ¡pido.\"",
      "\"A equipe estÃ¡ burlando o novo processo.\"",
      "\"Sem o antigo eu nÃ£o consigo.\""
    ],
    risco: "BenefÃ­cios nÃ£o aparecem, retrabalho, baixa qualidade, questionamento do investimento, volta ao estado anterior.",
    oportunidade: "GestÃ£o de adoÃ§Ã£o: mÃ©tricas de uso, reforÃ§o de lideranÃ§a, coaching, ajustes de processo, campanhas de adesÃ£o.",
    discovery: [
      "Quais sÃ£o os principais motivos do time evitar o novo?",
      "O que seria 'sucesso' na prÃ¡tica do dia a dia?",
      "Quais indicadores mostram adoÃ§Ã£o (uso, qualidade, tempo)?",
      "Quem influencia o comportamento do time?",
      "Que ajustes rÃ¡pidos destravam a operaÃ§Ã£o?"
    ],
    posicionamento: "GMO aqui Ã© captura de valor: \"sem adoÃ§Ã£o, nÃ£o existe ROI\". Aponte que a Meta sustenta a mudanÃ§a atÃ© virar rotina.\n\nMostre dados: projetos com gestÃ£o de adoÃ§Ã£o ativa tÃªm taxa de uso 3x maior nos primeiros 90 dias.",
    proximoPasso: {
      acao: "Plano de adoÃ§Ã£o com mÃ©tricas",
      output: "Rotina de reforÃ§o e aÃ§Ãµes de engajamento"
    }
  },
  {
    title: "SustentaÃ§Ã£o / Captura de Valor",
    subtitle: "(benefÃ­cios e escala)",
    icon: "ðŸ—ï¸",
    acontecendo: "EstabilizaÃ§Ã£o, expansÃ£o, melhoria contÃ­nua, padronizaÃ§Ã£o, cultura de uso, replicaÃ§Ã£o para outras Ã¡reas.",
    sinais: [
      "\"No comeÃ§o funcionou, depois caiu.\"",
      "\"O projeto foi entregue, mas nÃ£o virou padrÃ£o.\"",
      "\"Cada Ã¡rea adaptou do seu jeito.\"",
      "\"Precisamos escalar para outras unidades.\""
    ],
    risco: "Efeito sanfona, perda de ganhos, variaÃ§Ã£o, governanÃ§a fraca, retorno de prÃ¡ticas antigas.",
    oportunidade: "SustentaÃ§Ã£o: governanÃ§a de mudanÃ§a, rituais, comunicaÃ§Ã£o contÃ­nua, treinamento recorrente, liÃ§Ãµes aprendidas, scaling playbook.",
    discovery: [
      "Como vocÃªs garantem que isso vire padrÃ£o?",
      "Quem Ã© responsÃ¡vel por manter e evoluir o processo?",
      "Que rituais e indicadores vÃ£o sustentar o comportamento?",
      "Como vamos escalar sem perder consistÃªncia?",
      "Quais liÃ§Ãµes aprendidas precisam virar padrÃ£o?"
    ],
    posicionamento: "GMO como motor de escala: \"capturar valor e manter ganhos Ã© tÃ£o crÃ­tico quanto implementar\". Mostre que sustentaÃ§Ã£o evita regressÃ£o e acelera expansÃ£o.\n\nApresente a sustentaÃ§Ã£o como uma vantagem competitiva: quem mantÃ©m, escala. Quem nÃ£o mantÃ©m, reimplementa.",
    proximoPasso: {
      acao: "Modelo de governanÃ§a e sustentaÃ§Ã£o",
      output: "Plano de escala e padronizaÃ§Ã£o"
    }
  }
];

const sectionConfig = [
  { key:"acontecendo", label:"O que estÃ¡ acontecendo com o cliente", icon:"ðŸ“", type:"text" },
  { key:"sinais", label:"Sinais e frases reais do cliente", icon:"ðŸ’¬", type:"quotes" },
  { key:"risco", label:"Risco de nÃ£o atuar com GMO", icon:"âš ï¸", type:"text" },
  { key:"oportunidade", label:"Oportunidade de GMO nesta fase", icon:"ðŸ’¡", type:"text" },
  { key:"discovery", label:"Perguntas de discovery (para o comercial)", icon:"ðŸŽ™ï¸", type:"list", copyable:true, copyLabel:"Copiar perguntas de discovery" },
  { key:"posicionamento", label:"Argumento de posicionamento", icon:"ðŸŽ¯", type:"paragraphs", copyable:true, copyLabel:"Copiar argumento de posicionamento" },
];

let current = 0;
const track = document.getElementById('track');
const progressBar = document.getElementById('progressBar');
const card = document.getElementById('card');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const counter = document.getElementById('stepCounter');
const toast = document.getElementById('toast');

const isVertical = () => window.innerWidth <= 768;

// Build step buttons
phases.forEach((p, i) => {
  const btn = document.createElement('button');
  btn.className = 'step-btn';
  btn.setAttribute('role', 'tab');
  btn.setAttribute('aria-selected', 'false');
  btn.setAttribute('data-i', i);
  btn.setAttribute('tabindex', i === 0 ? '0' : '-1');
  btn.innerHTML = `<span class="step-num"><span class="emoji">${p.icon}</span></span><span class="step-label">${p.title}</span>`;
  btn.addEventListener('click', () => goTo(i));
  track.appendChild(btn);
});

function goTo(index) {
  current = index;
  const btns = document.querySelectorAll('.step-btn');
  btns.forEach((b, i) => {
    b.classList.remove('active', 'visited');
    b.setAttribute('aria-selected', 'false');
    b.setAttribute('tabindex', '-1');
    if (i < index) b.classList.add('visited');
    if (i === index) {
      b.classList.add('active');
      b.setAttribute('aria-selected', 'true');
      b.setAttribute('tabindex', '0');
      b.focus();
    }
  });
  updateProgress(index);
  renderCard(index);
  prevBtn.disabled = index === 0;
  nextBtn.disabled = index === phases.length - 1;
  counter.textContent = `Fase ${index + 1} de ${phases.length}`;
}

function updateProgress(index) {
  const btns = document.querySelectorAll('.step-btn');
  const colors = ['var(--phase1)','var(--phase2)','var(--phase3)','var(--phase4)','var(--phase5)','var(--phase6)'];

  if (isVertical()) {
    if (index === 0) { progressBar.style.height = '0'; progressBar.style.width = '2px'; return; }
    const first = btns[0].querySelector('.step-num');
    const active = btns[index].querySelector('.step-num');
    const top = first.getBoundingClientRect().top + first.offsetHeight / 2;
    const bot = active.getBoundingClientRect().top + active.offsetHeight / 2;
    progressBar.style.width = '2px';
    progressBar.style.height = (bot - top) + 'px';
  } else {
    if (index === 0) { progressBar.style.width = '0'; return; }
    const trackRect = track.getBoundingClientRect();
    const firstC = btns[0].querySelector('.step-num');
    const activeC = btns[index].querySelector('.step-num');
    const startX = firstC.getBoundingClientRect().left + firstC.offsetWidth / 2 - trackRect.left;
    const endX = activeC.getBoundingClientRect().left + activeC.offsetWidth / 2 - trackRect.left;
    progressBar.style.left = startX + 'px';
    progressBar.style.width = (endX - startX) + 'px';
  }
  progressBar.style.background = colors[index];
}

function renderCard(index) {
  card.classList.remove('visible');
  setTimeout(() => {
    const p = phases[index];
    let html = `
      <div class="card-header">
        <span class="card-phase-tag">Fase ${index + 1} de ${phases.length}</span>
        <h2 class="card-title">${p.icon} ${p.title} <span style="font-weight:400;font-size:.85em;color:var(--text-muted)">${p.subtitle}</span></h2>
      </div>
      <div class="card-body"><div class="section-grid">`;

    sectionConfig.forEach(sec => {
      const data = p[sec.key];
      const fullClass = (sec.key === 'posicionamento' || sec.key === 'discovery') ? ' full-width' : '';
      html += `<div class="sec${fullClass}">`;
      html += `<div class="sec-header"><span class="sec-icon">${sec.icon}</span><span class="sec-title">${sec.label}</span></div>`;

      if (sec.type === 'text') {
        html += `<p>${data}</p>`;
      } else if (sec.type === 'quotes') {
        html += '<ul>' + data.map(q => `<li><em>${q}</em></li>`).join('') + '</ul>';
      } else if (sec.type === 'list') {
        html += '<ul>' + data.map(q => `<li>${q}</li>`).join('') + '</ul>';
      } else if (sec.type === 'paragraphs') {
        html += data.split('\n\n').map(pg => `<p style="margin-bottom:.5rem">${pg}</p>`).join('');
      }

      if (sec.copyable) {
        const copyId = `copy-${sec.key}-${index}`;
        html += `<button class="copy-btn" id="${copyId}" data-key="${sec.key}" data-index="${index}">ðŸ“‹ ${sec.copyLabel}</button>`;
      }
      html += '</div>';
    });

    // Next step block
 const videos = [
  "videos/GMO.mp4",
  "videos/GMUD.mp4",
  "videos/GMUD.mp4",
  "videos/GMOD.mp4",
  "videos/GMO.mp4",
  "videos/GMO.mp4"
];

html += `
<div class="sec full-width">
  <div class="sec-header">
    <span class="sec-icon">ðŸŽ¬</span>
    <span class="sec-title">VÃ­deo da fase</span>
  </div>
  <video controls width="100%" style="border-radius:10px;margin-top:8px">
    <source src="${videos[index]}" type="video/mp4">
  </video>
</div>;

    html += '</div></div>';
    card.setAttribute('data-c', index);
    card.innerHTML = html;

    // Bind copy buttons
    card.querySelectorAll('.copy-btn').forEach(btn => {
      btn.addEventListener('click', handleCopy);
    });

    requestAnimationFrame(() => card.classList.add('visible'));
  }, 180);
}

function handleCopy(e) {
  const btn = e.currentTarget;
  const key = btn.dataset.key;
  const idx = parseInt(btn.dataset.index);
  const p = phases[idx];
  let text = '';

  if (key === 'discovery') {
    text = p.discovery.map((q, i) => `${i + 1}. ${q}`).join('\n');
  } else if (key === 'posicionamento') {
    text = p.posicionamento;
  }

  navigator.clipboard.writeText(text).then(() => {
    btn.classList.add('copied');
    btn.innerHTML = 'âœ… Copiado!';
    showToast('ConteÃºdo copiado para a Ã¡rea de transferÃªncia!');
    setTimeout(() => {
      btn.classList.remove('copied');
      const sec = sectionConfig.find(s => s.key === key);
      btn.innerHTML = `ðŸ“‹ ${sec.copyLabel}`;
    }, 2000);
  }).catch(() => {
    showToast('Erro ao copiar. Tente novamente.');
  });
}

function showToast(msg) {
  toast.textContent = msg;
  toast.classList.add('show');
  setTimeout(() => toast.classList.remove('show'), 2200);
}

// Nav buttons
prevBtn.addEventListener('click', () => { if (current > 0) goTo(current - 1); });
nextBtn.addEventListener('click', () => { if (current < phases.length - 1) goTo(current + 1); });

// Keyboard navigation
track.addEventListener('keydown', e => {
  const vert = isVertical();
  const prev = vert ? 'ArrowUp' : 'ArrowLeft';
  const next = vert ? 'ArrowDown' : 'ArrowRight';
  if (e.key === next && current < phases.length - 1) { e.preventDefault(); goTo(current + 1); }
  if (e.key === prev && current > 0) { e.preventDefault(); goTo(current - 1); }
  if (e.key === 'Home') { e.preventDefault(); goTo(0); }
  if (e.key === 'End') { e.preventDefault(); goTo(phases.length - 1); }
});

// Init
goTo(0);
window.addEventListener('resize', () => updateProgress(current));
</script>
</body>
</html>
